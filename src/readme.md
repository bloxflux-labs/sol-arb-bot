## arb 不同的版本说明

### 1. **`arb.ts`**

- **核心功能**：基础套利机器人，使用单个钱包进行套利操作。
- **特点**：
  - 使用单个钱包（`payer`）进行交易和支付 Jito tip。
  - 通过 Jupiter API 获取报价并构建交易。
  - 使用 Jito 的 `sendBundle` 方法发送交易。
  - 简单的统计功能，记录请求次数和错误次数。
- **适用场景**：适合简单的套利操作，无需复杂的钱包管理。

---

### 2. **`arb-v2.ts`**

- **核心功能**：多钱包轮换的套利机器人，支持多个钱包轮流使用。
- **特点**：
  - 支持多个钱包（`payers`）轮换使用，避免单个钱包频繁操作。
  - 通过 `getNextPayer()` 方法获取下一个钱包。
  - 其他功能与 `arb.ts` 类似，使用 Jupiter API 和 Jito 的 `sendBundle`。
- **适用场景**：适合需要多个钱包轮换的场景，减少单个钱包的负载。

---

### 3. **`arb-v3.ts`**

- **核心功能**：主钱包和代付钱包分离的套利机器人，支持主钱包和代付钱包分开操作。
- **特点**：
  - 主钱包（`mainPayers`）用于套利交易，代付钱包（`tipPayers`）用于支付 Jito tip。
  - 通过 `getNextMainPayer()` 和 `getNextTipPayer()` 方法分别获取主钱包和代付钱包。
  - 交易签名时需要主钱包和代付钱包都签名。
- **适用场景**：适合需要将套利交易和支付 tip 分开的场景，提高安全性。

---

### 4. **`arb-v4.ts`**

- **核心功能**：引入临时钱包的套利机器人，支持临时钱包管理。
- **特点**：
  - 使用临时钱包（`tempWallet`）作为中间钱包，主钱包向临时钱包转账，临时钱包支付 Jito tip。
  - 通过 `getNextTempWallet()` 方法生成临时钱包。
  - 交易签名时需要主钱包和临时钱包都签名。
  - 增加了临时钱包余额检查功能，确保临时钱包余额正确转回主钱包。
- **适用场景**：适合需要更高安全性和灵活性的场景，避免主钱包直接支付 tip。

---

### 5. **主要差异对比**

| **功能**     | `arb.ts` | `arb-v2.ts`  | `arb-v3.ts`           | `arb-v4.ts`           |
| ------------ | -------- | ------------ | --------------------- | --------------------- |
| **钱包数量** | 单个钱包 | 多个钱包轮换 | 主钱包 + 代付钱包     | 主钱包 + 临时钱包     |
| **钱包管理** | 无       | 轮换机制     | 主钱包和代付钱包分离  | 临时钱包管理          |
| **交易签名** | 单个签名 | 单个签名     | 主钱包 + 代付钱包签名 | 主钱包 + 临时钱包签名 |
| **安全性**   | 低       | 中           | 高                    | 最高                  |
| **适用场景** | 简单套利 | 多钱包轮换   | 主钱包和代付钱包分离  | 高安全性套利          |

---

### 6. **选择建议**

- 如果你只需要简单的套利操作，使用 `arb.ts`。
- 如果你需要多个钱包轮换，使用 `arb-v2.ts`。
- 如果你需要将套利交易和支付 tip 分开，使用 `arb-v3.ts`。
- 如果你需要更高的安全性和灵活性，使用 `arb-v4.ts`。
